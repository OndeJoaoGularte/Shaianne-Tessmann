<section class="py-5 py-lg-6 text-center text-white" style="background-color: var(--cor-primaria);">
    <div class="container">
        <h1 class="fw-bold mb-3">Fale Conosco</h1>
        <p class="lead col-lg-8 mx-auto">
            Tem alguma dúvida ou quer solicitar um orçamento? Escolha seu canal preferido. Estamos prontos para atender você.
        </p>
    </div>
</section>

<section class="contact-content py-5 bg-light">
  <div class="container">
    <div class="row g-4">

      <div class="col-lg-7">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body p-4 p-md-5">
            <h3 class="fw-bold mb-4" style="color: var(--cor-primaria);">Envie sua Mensagem</h3>
            <p class="text-muted mb-4">Preencha os campos abaixo e nossa equipe técnica retornará o contato.</p>

            <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
              
              <div class="form-floating mb-3">
                <input type="text" id="name" class="form-control" formControlName="name" placeholder="Seu nome"
                       [class.is-invalid]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched">
                <label for="name">Nome Completo *</label>
                <div class="invalid-feedback">Por favor, informe seu nome.</div>
              </div>

              <div class="row g-3 mb-3">
                <div class="col-md-6">
                    <div class="form-floating">
                        <input type="email" id="email" class="form-control" formControlName="email" placeholder="nome@exemplo.com"
                               [class.is-invalid]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched">
                        <label for="email">E-mail *</label>
                        <div class="invalid-feedback">E-mail inválido.</div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-floating">
                        <input type="tel" id="phone" class="form-control" formControlName="phone" placeholder="(00) 00000-0000"
                               [class.is-invalid]="contactForm.get('phone')?.invalid && contactForm.get('phone')?.touched">
                        <label for="phone">Telefone / WhatsApp *</label>
                        <div class="invalid-feedback">Telefone inválido.</div>
                    </div>
                </div>
              </div>

              <div class="form-floating mb-4">
                <textarea id="message" class="form-control" formControlName="message" placeholder="Escreva aqui" style="height: 150px"
                          [class.is-invalid]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched"></textarea>
                <label for="message">Como podemos ajudar? *</label>
                <div class="invalid-feedback">Por favor, escreva sua mensagem.</div>
              </div>

              @if (formStatus === 'success') {
                <div class="alert alert-success d-flex align-items-center" role="alert">
                    <i class="fas fa-check-circle me-2"></i>
                    <div>Mensagem enviada! Entraremos em contato em breve.</div>
                </div>
              }
              @if (formStatus === 'error') {
                <div class="alert alert-danger d-flex align-items-center" role="alert">
                    <i class="fas fa-exclamation-circle me-2"></i>
                    <div>Ocorreu um erro. Tente novamente ou chame no WhatsApp.</div>
                </div>
              }

              <div class="d-grid">
                <button type="submit" class="btn btn-primary py-3 fw-bold" [disabled]="formStatus === 'sending'">
                  @if (formStatus === 'sending') { 
                      <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span> Enviando... 
                  } @else { 
                      Enviar Mensagem 
                  }
                </button>
              </div>

            </form>
          </div>
        </div>
      </div>

      <div class="col-lg-5">
        <div class="card border-0 shadow-sm h-100">
            <div class="card-body p-4 p-md-5 d-flex flex-column justify-content-center">
                
                <h3 class="fw-bold mb-3" style="color: var(--cor-primaria);">Atendimento Rápido</h3>
                <p class="text-muted mb-4">Precisa de uma resposta imediata? Fale diretamente com nossa consultora pelo WhatsApp.</p>
                
                <a href="https://wa.me/5551995798694" target="_blank" class="btn btn-whatsapp w-100 py-3 mb-5 shadow-sm">
                    <i class="fab fa-whatsapp fa-lg me-2"></i> Chamar no WhatsApp
                </a>

                <div class="border-top pt-4">
                    <h5 class="fw-bold mb-4" style="color: var(--cor-primaria);">Outros Canais</h5>
                    
                    <div class="d-flex align-items-start mb-3">
                        <div class="feature-icon-small me-3">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div>
                            <span class="d-block fw-bold text-dark">E-mail</span>
                            <a href="mailto:contato@tessmann.com.br" class="text-decoration-none text-muted">contato@tessmann.com.br</a>
                        </div>
                    </div>

                    <div class="d-flex align-items-start mb-3">
                        <div class="feature-icon-small me-3">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div>
                            <span class="d-block fw-bold text-dark">Localização</span>
                            <span class="text-muted">Porto Alegre / RS</span>
                        </div>
                    </div>

                    <div class="d-flex align-items-start">
                        <div class="feature-icon-small me-3">
                            <i class="fab fa-instagram"></i>
                        </div>
                        <div>
                            <span class="d-block fw-bold text-dark">Siga-nos</span>
                            <a href="https://instagram.com/tessmanntreinamentos" target="_blank" class="text-decoration-none text-muted">@tessmanntreinamentos</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
      </div>

    </div>
  </div>
</section>